<!doctype html>
<html lang="en" class="theme-retro">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>SootheBirb â€” Finch Mode</title>
  <link rel="icon" href="assets/icon.svg" type="image/svg+xml"/>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css"/>
</head>
<body class="pixel crt">
  <header class="app-header">
    <div class="brand">
      <img src="assets/icon.svg" alt="" class="logo"/>
      <h1>SootheBirb</h1>
    </div>
    <nav class="top-nav" aria-label="Primary">
      <div id="navHighlighter" class="nav-hi"></div>
      <button data-route="home" class="nav-btn">Dashboard</button>
      <button data-route="tasks" class="nav-btn">Quests</button>
      <button data-route="clean" class="nav-btn">Cleaning</button>
      <button data-route="coop" class="nav-btn">Coâ€‘Op</button>
      <button data-route="budget" class="nav-btn">Budget</button>
      <button data-route="meals" class="nav-btn">Meals</button>
      <button data-route="calendar" class="nav-btn">Calendar</button>
      <button data-route="shop" class="nav-btn">Shopping</button>
      <button data-route="characters" class="nav-btn">Character</button>
      <button data-route="companion" class="nav-btn">Companion</button>
      <button data-route="breathe" class="nav-btn">Breathe</button>
      <button data-route="minigames" class="nav-btn toddler-only">Minigames</button>
      <button data-route="journal" class="nav-btn">Journal</button>
      <button data-route="checkin" class="nav-btn">Checkâ€‘In</button>
      <button data-route="rewards" class="nav-btn">Rewards</button>
      <button data-route="settings" class="nav-btn">Settings</button>
    </nav>
    <button id="musicBtn" class="music-toggle" title="Music">â™ª</button>
    <div id="hudStrip" class="hud small">
      <div class="avatars" id="hudAvatars"></div>
      <div class="hearts" id="hudHearts"></div>
      <div class="gold" id="hudGold">ðŸª™ 0</div>
      <div class="xp-wrap">
        <div class="xp-label"><span id="hudLevel">Lv 1</span><span class="flame">ðŸ”¥</span></div>
        <div class="xp-bar"><div id="hudXp"></div></div>
      </div>
    </div>
  </header>

  <main id="view" class="view"></main>
  <div id="fxLayer" class="fx-layer" aria-hidden="true"></div>

  <footer class="app-footer">
    <span id="streakLabel">Streak: 0 ðŸ”¥ | Best: 0</span>
    <span class="dot">â€¢</span>
    <button id="exportBtn" class="secondary">Export</button>
    <input type="file" id="importFile" accept="application/json" style="display:none"/>
    <button id="importBtn" class="secondary">Import</button>
  </footer>

  <!-- HOME -->
  <template id="tpl-home">
    <section class="dash-board">
      <div class="party-banner">
        <div class="party-label">Your Party</div>
        <div class="party-members" id="partyBanner"></div>
      </div>
      <div class="xp-slab">
        <div class="xp-title">XP</div>
        <div class="xp-bar big"><div id="xpBig"></div></div>
        <div class="xp-meta"><span id="xpBigLabel">Lv 1</span></div>
      </div>
      <div class="tile-grid">
        <a class="tile" data-route="tasks"><div class="tile-label">Daily Planner</div></a>
        <a class="tile" data-route="rewards"><div class="tile-label">Rewards</div></a>
        <a class="tile" data-route="clean"><div class="tile-label">Cleaning</div></a>
        <a class="tile" data-route="coop"><div class="tile-label">Coâ€‘Op</div></a>
        <a class="tile" data-route="calendar"><div class="tile-label">Calendar</div></a>
        <a class="tile" data-route="shop"><div class="tile-label">Shopping</div></a>
        <a class="tile" data-route="budget"><div class="tile-label">Budget</div></a>
        <a class="tile" data-route="meals"><div class="tile-label">Meals</div></a>
        <a class="tile" data-route="characters"><div class="tile-label">Character</div></a>
        <a class="tile" data-route="companion"><div class="tile-label">Companion</div></a>
        <a class="tile toddler-only" data-route="minigames"><div class="tile-label">Minigames</div></a>
      </div>
    </section>
  </template>

  <!-- CALENDAR -->
  <template id="tpl-calendar">
    <section class="calendar">
      <h2 class="dash">Weekly Calendar</h2>
      <div class="embed-wrap">
        <iframe id="gcalFrame" src="" frameborder="0" scrolling="no"></iframe>
      </div>
    </section>
  </template>

  <!-- MINIGAMES HUB -->
  <template id="tpl-minigames">
    <section class="cardish">
      <h2 class="dash">Toddler Minigames</h2>
      <div id="gamesGrid" class="games-grid"></div>
      <div id="gameHost" class="game-host" aria-live="polite"></div>
    </section>
  </template>

  <!-- PET (toddler only) -->
  <template id="tpl-pet">
    <section class="cardish">
      <h2 class="dash">Your Birb</h2>
      <div class="pet-stage" id="petStage"></div>
      <details open><summary>Accessories</summary><div class="grid two" id="accList"></div></details>
      <div class="panel-list" id="accStore"></div>
    </section>
  </template>

  <script type="module" src="app.js"></script>
  <script type="module" src="hotfix.js"></script>
</body>
</html>
