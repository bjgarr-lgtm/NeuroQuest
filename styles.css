/* SootheBirb styles â€” minimalist, mobile-first */
:root{
  --bg:#0f1412; --surface:#141a18; --muted:#30433b; --text:#e7f2ee; --accent:#7ee787; --accent-2:#8ae3ff; --danger:#ff7b7b;
}
:root.theme-forest { --bg:#0f1412; --surface:#141a18; --muted:#30433b; --text:#e7f2ee; --accent:#7ee787; --accent-2:#8ae3ff; }
:root.theme-dusk   { --bg:#131018; --surface:#1a1422; --muted:#3b2c4a; --text:#f6edff; --accent:#c792ea; --accent-2:#82aaff; }
:root.theme-sunrise{ --bg:#18120f; --surface:#221814; --muted:#4a362c; --text:#fff7ed; --accent:#f6c177; --accent-2:#eb6f92; }
:root.theme-ocean  { --bg:#0f1218; --surface:#141a26; --muted:#2c3a56; --text:#e6f0ff; --accent:#5ad1e6; --accent-2:#7aa2f7; }
:root.theme-punk   { --bg:#0e0e0e; --surface:#151515; --muted:#2b2b2b; --text:#f2f2f2; --accent:#ff3ea5; --accent-2:#00ffd1; }

* { box-sizing: border-box }
html, body { height: 100% }
body{
  margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Noto Sans, "Apple Color Emoji","Segoe UI Emoji";
  background: var(--bg); color: var(--text);
  display:flex; flex-direction:column; min-height:100vh;
}
.app-header{
  position:sticky; top:0; z-index:10; backdrop-filter:saturate(140%) blur(8px);
  background: linear-gradient(0deg, transparent, rgba(0,0,0,.35));
  border-bottom: 1px solid rgba(255,255,255,.06);
  padding: .5rem .75rem;
}
.brand{ display:flex; align-items:center; gap:.6rem }
.brand .logo{ width:28px; height:28px }
.brand h1{ font-size:1.1rem; margin:0; letter-spacing:.4px }
.top-nav{ display:flex; gap:.4rem; flex-wrap:wrap; margin-top:.5rem }
.nav-btn{
  background:var(--surface); color:var(--text); border:1px solid rgba(255,255,255,.06); border-radius:.7rem; padding:.5rem .7rem;
}
.nav-btn.active{ outline:2px solid var(--accent); }

.view{ padding: .9rem; display:grid; gap:.9rem; align-content:start; }

.card{
  background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00));
  border:1px solid rgba(255,255,255,.06);
  border-radius:1rem; padding:1rem; box-shadow: 0 10px 30px rgba(0,0,0,.2);
}

.row{ display:flex; gap:.6rem; align-items:center; flex-wrap:wrap }
.grid.two{ display:grid; grid-template-columns: 1fr 1fr; gap:.6rem }
.grid.two .cta{ text-align:center }
.list{ display:grid; gap:.5rem }

button, .cta{
  background:var(--accent); color:#0f0f0f; border:none; border-radius:.8rem; padding:.6rem .9rem; font-weight:600; cursor:pointer;
  box-shadow: 0 6px 18px rgba(0,0,0,.25);
}
.secondary{ background:var(--muted); color:var(--text) }
.danger{ background:var(--danger); color:#0f0f0f }
button:focus-visible, .cta:focus-visible{ outline:3px solid var(--accent-2) }

.field{ display:grid; gap:.3rem; margin:.5rem 0 }
.field > span{ font-size:.9rem; opacity:.9 }
input, textarea, select{
  width:100%; background:var(--surface); color:var(--text); border:1px solid rgba(255,255,255,.08); border-radius:.6rem; padding:.6rem .7rem;
}

.app-footer{
  margin-top:auto; display:flex; align-items:center; gap:.6rem; justify-content:center; padding:.7rem;
  color:rgba(255,255,255,.8);
  border-top:1px solid rgba(255,255,255,.06);
  background: linear-gradient(180deg, rgba(255,255,255,.00), rgba(255,255,255,.04));
}
.app-footer .dot{ opacity:.5 }

.mood-row{ display:flex; gap:.5rem; justify-content:space-between }
.mood{ font-size:1.4rem; background:var(--surface); color:var(--text) }

.sparkline-wrap{ margin-top:.5rem; height:64px; }

.pet-stage{ display:grid; place-items:center; height:140px; }
.pet-stage.large{ height:200px }
.pet{
  width:120px; height:120px; border-radius:1rem; display:grid; place-items:center;
  background: radial-gradient(circle at 50% 40%, var(--accent), var(--accent-2));
  filter: drop-shadow(0 10px 25px rgba(0,0,0,.35));
  animation: bob 3s ease-in-out infinite;
}
@keyframes bob { 0%,100%{ transform: translateY(0)} 50%{ transform: translateY(-6px) } }

.phase{ margin-top:.6rem; opacity:.9 }
.breathe-stage{ display:grid; place-items:center; gap:.6rem; padding: .6rem 0 }
.circle{
  width:140px; height:140px; border-radius:50%;
  border:4px solid var(--accent-2); box-shadow: inset 0 0 20px rgba(0,0,0,.35), 0 10px 30px rgba(0,0,0,.25);
  transition: transform 800ms ease, border-color 300ms ease;
  transform: scale(1);
}

.theme-preview{ display:flex; gap:.5rem }
.theme-preview .swatch{ width:42px; height:28px; border-radius:.5rem; background:var(--surface); border:1px solid rgba(255,255,255,.1) }
.stats{ opacity:.9; display:flex; gap:1rem; flex-wrap:wrap }
.cta{ display:inline-block; text-decoration:none }
.hidden{ display:none !important }


/* Retro Neon Dungeon theme */
:root.theme-retro {
  --bg:#000000; --surface:#0b0b0b; --muted:#151515; --text:#e6faff;
  --accent:#00eaff; --accent-2:#ff3ea5; --danger:#ff3860;
}
body.pixel {
  font-family: monospace;
  letter-spacing: 0.3px;
  /* simulate crisp bitmap edges */
  -webkit-font-smoothing: none; -moz-osx-font-smoothing: grayscale;
}

/* Neon buttons */
button, .cta{
  position: relative;
  text-shadow: 0 0 8px rgba(255,255,255,.15);
  box-shadow: 0 0 12px rgba(0,0,0,.5), 0 0 18px color-mix(in oklab, var(--accent) 50%, transparent);
  border: 1px solid rgba(255,255,255,.08);
}
button:hover, .cta:hover{
  box-shadow: 0 0 16px color-mix(in oklab, var(--accent) 60%, transparent), 0 0 32px color-mix(in oklab, var(--accent-2) 40%, transparent);
}

/* Pixel edges & crisp SVG */
.pet-stage svg{ shape-rendering: crispEdges }
.pixelize { image-rendering: pixelated; }

/* CRT scanlines */
body.crt::before{
  content:""; pointer-events:none; position:fixed; inset:0;
  background: repeating-linear-gradient( to bottom, rgba(255,255,255,.04), rgba(255,255,255,.04) 1px, transparent 1px, transparent 3px);
  mix-blend-mode: overlay; opacity:.25;
}
body.crt::after{
  content:""; pointer-events:none; position:fixed; inset:0;
  background: radial-gradient(ellipse at center, rgba(255,255,255,.06), transparent 60%);
  opacity:.15;
}

/* D20 faint background for cards (neon) */
.card{
  background:
    radial-gradient(1200px 400px at 50% -300px, rgba(255,255,255,.06), transparent),
    linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00));
  position: relative;
  overflow:hidden;
}
.card::after{
  content:""; position:absolute; inset:0; pointer-events:none; opacity:.06;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Cpolygon points='32,2 61,20 50,60 14,60 3,20' fill='none' stroke='%23ffffff' stroke-width='2'/%3E%3Cline x1='32' y1='2' x2='32' y2='60' stroke='%23ffffff' stroke-width='2'/%3E%3C/svg%3E");
  background-repeat: no-repeat; background-position: 95% 10%; background-size: 80px 80px;
}

/* Headings neon glow */
h1,h2,h3{ text-shadow: 0 0 10px color-mix(in oklab, var(--accent) 50%, transparent) }


/* HUD strip */
.hud{ display:flex; gap:1rem; align-items:center; padding:.4rem .6rem .8rem; }
.hud .hearts{ display:flex; gap:.35rem }
.heart{ width:22px; height:20px; display:inline-block; background: conic-gradient(from 45deg, #ff6584, #ff2d55); clip-path:path("M10,3 C10,1 12,0 13.5,1.5 C15,0 17,1 17,3 C17,6 13.5,8.5 13.5,8.5 L10,12 L6.5,8.5 C6.5,8.5 3,6 3,3 C3,1 5,0 6.5,1.5 C8,0 10,1 10,3 Z"); filter: drop-shadow(0 0 6px rgba(255,46,115,.6)); }
.heart.off{ opacity:.25; filter:none }

.xp-wrap{ display:grid; gap:.25rem; min-width: 220px }
.xp-label{ display:flex; align-items:center; gap:.5rem; font-weight:800; letter-spacing:.5px }
.xp-label .flame{ filter: drop-shadow(0 0 10px rgba(255,120,0,.6)); }
.xp-bar{ width:100%; height:12px; border:2px solid rgba(255,255,255,.08); border-radius:999px; background:#0b0b0b; overflow:hidden; box-shadow:0 0 12px rgba(0,0,0,.4) inset }
.xp-bar>div{ height:100%; width:0%; background: linear-gradient(90deg, var(--accent), var(--accent-2)); box-shadow:0 0 12px color-mix(in oklab, var(--accent) 60%, transparent); }

/* Quest Board Panels */
.quest-board{ display:grid; gap:1rem }
.panels{ display:grid; gap:1rem }
@media (min-width:700px){ .panels{ grid-template-columns: repeat(3, 1fr) } }
.panel{
  background: var(--surface);
  border-radius: 16px;
  padding:.8rem;
  position: relative;
  border: 2px solid rgba(255,255,255,.06);
  box-shadow:
    0 0 0 2px rgba(0,0,0,.7) inset,
    0 0 24px rgba(0,0,0,.5);
}
.panel-title{
  font-weight:900; letter-spacing:.8px; margin-bottom:.5rem; text-transform:uppercase;
  text-shadow: 0 0 8px color-mix(in oklab, var(--accent) 40%, transparent);
}
.panel-red    { border-color: #ff3e6c; box-shadow: 0 0 0 2px #2a0b15 inset, 0 0 18px #ff3e6c30; }
.panel-green  { border-color: #00ffa7; box-shadow: 0 0 0 2px #06231b inset, 0 0 18px #00ffa730; }
.panel-purple { border-color: #8a5cff; box-shadow: 0 0 0 2px #1b0d36 inset, 0 0 18px #8a5cff30; }
.add-panel    { border-style:dashed; opacity:.9 }

.panel-list{ display:grid; gap:.5rem }
.quest-row{ display:flex; align-items:center; gap:.6rem; padding:.45rem .5rem; border:1px solid rgba(255,255,255,.08); border-radius:.6rem; background: rgba(255,255,255,.02) }
.quest-row.done{ opacity:.6; text-decoration: line-through; }

.checkbox{ width:20px; height:20px; border:2px solid rgba(255,255,255,.18); border-radius:4px; display:grid; place-items:center; background:rgba(0,0,0,.25); cursor:pointer }
.checkbox.checked{ background: linear-gradient(180deg, #67ffb1, #00ffa7); border-color:#00ffa7; color:#052b22 }

/* Dashboard headings */
.dash{ font-size:1.25rem; text-transform:uppercase; letter-spacing:1px; text-shadow:0 0 10px color-mix(in oklab, var(--accent-2) 40%, transparent) }
