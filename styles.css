
:root{--bg:#0b0c12;--ink:#cfe9ff;--hi:#7cf;--purple:#8a54ff;--glow:0 0 20px rgba(124,252,255,.45)}
*{box-sizing:border-box}
body{margin:0;background:radial-gradient(1200px 600px at 50% -200px,#1a1330 0,#0b0c12 50%,#000);color:var(--ink);font-family:"Press Start 2P",system-ui,monospace;font-size:13px}
h1,h2,h3{letter-spacing:1px}
header.app-header{position:sticky;top:0;z-index:9;display:flex;align-items:center;gap:10px;padding:10px;background:rgba(0,0,0,.65);backdrop-filter:blur(6px);border-bottom:1px solid rgba(124,252,255,.15)}
.logo{width:26px;height:26px}
.brand{display:flex;align-items:center;gap:8px}
.drawer{position:fixed;inset:50px auto auto 10px;background:#0a0f18;border:1px solid #244;color:var(--ink);padding:10px;border-radius:12px;display:none;flex-direction:column;gap:6px;max-height:70vh;overflow:auto}
.drawer a{padding:8px 10px;border:1px solid #2b3e52;border-radius:10px;text-decoration:none;color:var(--ink);background:rgba(20,30,40,.6)}
.drawer a:hover{outline:2px solid var(--hi)}
.hamburger{margin-left:auto;border:1px solid #2b3e52;background:rgba(20,30,40,.6);color:var(--ink);border-radius:8px;padding:6px 10px;cursor:pointer}
.music-toggle{margin-left:6px;border:1px solid #2b3e52;background:rgba(20,30,40,.6);color:var(--ink);border-radius:20px;padding:6px 10px}

.hud{display:flex;align-items:center;justify-content:space-between;padding:6px 12px;border-bottom:1px solid #222;background:rgba(0,0,0,.4)}
.party-avatars{display:flex;gap:8px;align-items:flex-end}
.party-avatars .card{position:relative;width:62px;height:62px;border-radius:12px;border:1px solid #2b3e52;background:#0c1522;overflow:hidden;display:grid;place-items:center}
.party-avatars img{max-height:60px}
.avatar-name{position:absolute;bottom:-16px;left:0;right:0;text-align:center;color:#000;background:rgba(255,255,255,.8);font-size:10px}
.hud .xp{width:200px;height:8px;border:1px solid #2b3e52;border-radius:6px;overflow:hidden;background:rgba(255,255,255,.06)}
#hudXp{height:100%;width:0;background:linear-gradient(90deg,#36f,#9f6);box-shadow:var(--glow)}

.view{padding:14px 12px 60px;min-height:60vh}
.section{border:1px solid #2b3e52;border-radius:14px;background:rgba(15,18,28,.6);padding:12px;margin:12px 0;box-shadow:var(--glow)}
.grid{display:grid;gap:10px}
.grid.two{grid-template-columns:repeat(2,minmax(0,1fr))}
.grid.three{grid-template-columns:repeat(3,minmax(0,1fr))}
.tile-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px}
.tile{border:1px solid #2b3e52;border-radius:14px;background:rgba(15,18,28,.7);padding:16px;text-align:center;cursor:pointer}
.btn{cursor:pointer;border:1px solid #2b3e52;border-radius:10px;background:#162131;color:var(--ink);padding:8px 10px}
.btn.primary{border-color:#3b7;box-shadow:0 0 0 2px rgba(0,255,120,.15) inset}
.btn.danger{border-color:#b55;box-shadow:0 0 0 2px rgba(255,60,60,.15) inset}

.banner{border:1px solid #2b3e52;border-radius:16px;background:linear-gradient(180deg,#efe2be,#d9caa9);color:#000;box-shadow:0 4px 50px rgba(255,180,80,.1) inset, 0 0 30px rgba(255,255,180,.06)}
.banner .row{display:flex;align-items:center;gap:22px;padding:12px}
.hero{position:relative;width:180px;height:180px;display:grid;place-items:end}
.hero img.base{max-height:170px}
.overlay{position:absolute;pointer-events:none}
/* Breathe */
.breathe-stage{display:grid;place-items:center;gap:10px}
#breathCircle{width:180px;height:180px;border-radius:50%;border:4px solid rgba(255,255,255,.2);position:relative;overflow:hidden;cursor:pointer}
#breathCircle::after{content:"";position:absolute;inset:0;border-radius:50%;border:8px solid transparent;border-top-color:#7cf;animation:spin 8s linear infinite}
@keyframes spin{to{transform:rotate(1turn)}}
.phase{text-align:center;margin-top:6px;opacity:.8}
/* Cursor trail dots */
.trail-dot{position:fixed;width:6px;height:6px;border-radius:50%;background:#7cf;pointer-events:none;opacity:.8;filter:blur(.2px)}
/* Confetti */
.confetti{position:fixed;width:6px;height:10px;pointer-events:none}
