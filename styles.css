/* v2.5.0+ â€” keep the neon/pixel skin and add toddler/party/equip */
:root{ --bg:#000; --surface:#0b0b0b; --muted:#151515; --text:#e6faff; --accent:#00eaff; --accent-2:#ff3ea5; --danger:#ff3860; }
*{ box-sizing:border-box } html,body{ height:100% }
body{ margin:0; background:var(--bg); color:var(--text); min-height:100vh; display:flex; flex-direction:column;
  font-family:'Press Start 2P', monospace; image-rendering: pixelated; }
body.toddler-on{ background: radial-gradient(1200px 500px at 30% -10%, rgba(255,182,193,.12), transparent), #000; }
.toddlerOnly{ display:none }

.app-header{ position:sticky; top:0; z-index:10; padding:.4rem .6rem; border-bottom:1px solid rgba(255,255,255,.06);
  background:linear-gradient(0deg, rgba(0,0,0,.65), rgba(0,0,0,.2)); }
.brand{ display:flex; align-items:center; gap:.6rem } .logo{ width:28px; height:28px } h1{ font-size:1.1rem; margin:0 }
.music-toggle{ margin-left:.4rem; border-radius:999px; padding:.25rem .55rem; background:var(--muted); color:var(--text); border:1px solid rgba(255,255,255,.12) }

.top-nav{ display:flex; gap:.25rem; flex-wrap:wrap; margin-top:.5rem; position:relative }
.nav-btn{ background:linear-gradient(180deg,#121212,#0a0a0a); color:var(--text); border:1px solid rgba(255,255,255,.12); border-radius:999px; padding:.40rem .62rem; font-size:.90rem; cursor:pointer;
  transition: transform .12s ease, filter .2s ease, box-shadow .2s ease }
.nav-btn:hover{ transform:translateY(-1px) scale(1.03); box-shadow:0 0 12px color-mix(in oklab, var(--accent) 35%, transparent) }
.nav-btn.active{ filter: drop-shadow(0 0 8px color-mix(in oklab, var(--accent) 40%, transparent)); }
.nav-hi{ position:absolute; height:3px; bottom:-2px; left:0; width:56px; background:linear-gradient(90deg, var(--accent), var(--accent-2)); border-radius:999px;
  box-shadow:0 0 14px color-mix(in oklab, var(--accent) 60%, transparent); transition: transform .25s cubic-bezier(.2,.9,.2,1), width .25s ease; pointer-events:none }

.view{ padding:.9rem; display:grid; gap:.9rem; align-content:start }
.cardish{ background:var(--surface); border:2px solid rgba(255,255,255,.06); border-radius:12px; padding:.8rem }
button{ background:var(--accent); color:#0f0f0f; border:none; border-radius:.8rem; padding:.6rem .9rem; font-weight:800; cursor:pointer; box-shadow:0 6px 18px rgba(0,0,0,.25) }
button.small{ padding:.4rem .7rem; font-size:.8rem } .secondary{ background:var(--muted); color:var(--text) }
input,textarea,select{ width:100%; background:var(--surface); color:var(--text); border:2px solid rgba(255,255,255,.08); border-radius:.6rem; padding:.6rem .7rem }

.app-footer{ margin-top:auto; display:flex; align-items:center; gap:.6rem; justify-content:center; padding:.7rem; color:rgba(255,255,255,.8);
  border-top:1px solid rgba(255,255,255,.06); background:linear-gradient(180deg, rgba(255,255,255,.00), rgba(255,255,255,.04)); }
.app-footer .dot{ opacity:.5 }

/* HUD */
.hud{ display:flex; gap:1rem; align-items:center; padding:.4rem .6rem .6rem; flex-wrap:wrap }
.avatars{ display:flex; align-items:center; gap:.4rem }
.avatar{ width:64px; height:64px; border-radius:10px; overflow:hidden; border:2px solid rgba(255,255,255,.16); background:#111; display:grid; place-items:center }
.avatar img{ width:100%; height:100%; object-fit:cover }
.xp-wrap{ display:grid; gap:.25rem; min-width:240px } .xp-bar{ width:100%; height:12px; border:2px solid rgba(255,255,255,.08); border-radius:999px; background:#0b0b0b; overflow:hidden }
.xp-bar>div{ height:100%; width:0%; background: linear-gradient(90deg, var(--accent), var(--accent-2)); transition: width .35s cubic-bezier(.2,.9,.2,1) }

/* Toggle */
.toddler-toggle{ display:flex; gap:.4rem; align-items:center }
.switch{ position:relative; width:58px; height:30px; display:inline-block }
.switch input{ display:none }
.switch span{ position:absolute; inset:0; background:#222; border-radius:999px; border:2px solid rgba(255,255,255,.2) }
.switch span::after{ content:''; position:absolute; top:2px; left:2px; width:24px; height:24px; background:linear-gradient(180deg,#fff,#bbb); border-radius:50%; transition:transform .2s ease }
.switch input:checked + span{ background:linear-gradient(90deg,#ffb6c1,#ff8ad6) }
.switch input:checked + span::after{ transform:translateX(28px) }
.toggle-label{ font-size:.8rem; opacity:.9 }

/* Tiles */
.tile-grid{ display:grid; grid-template-columns:repeat(2,1fr); gap:.8rem } @media(min-width:720px){ .tile-grid{ grid-template-columns:repeat(4,1fr) } }
.tile{ display:grid; place-items:center; gap:.4rem; padding:1rem; border:2px solid #5b3ca6; border-radius:12px; background:#120c1f; text-decoration:none; color:var(--text); cursor:pointer; position:relative; overflow:hidden }
.tile:hover::after{ content:''; position:absolute; inset:auto 0 0 0; height:100%; background:linear-gradient(90deg, var(--accent), var(--accent-2)); opacity:.12 }

/* Party banner & rigs */
.party{ display:flex; gap:18px; align-items:flex-end; justify-content:center; overflow:hidden }
.party .card{ display:grid; place-items:center; gap:.25rem }
.sprite, .rig{ position:relative; width:130px; height:130px; }
.rig .layer{ position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); width:130px; height:130px; object-fit:contain }
.rig .body{ z-index:2 } .rig .head{ z-index:3; transform-origin:50% 70% } .rig .armL{ z-index:4; transform-origin:45% 20% } .rig .armR{ z-index:4; transform-origin:55% 20% } .rig .prop{ z-index:5 }
.acc{ position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); pointer-events:none }
.acc.head{ z-index:6; transform-origin:50% 70% } .acc.face{ z-index:6 } .acc.back{ z-index:1 } .acc.hand{ z-index:6 }

/* Anim keyframes */
@keyframes walkX { 0%{ transform:translateX(-14px)} 50%{ transform:translateX(14px)} 100%{ transform:translateX(-14px)} }
@keyframes step { 0%,100%{ transform:translateY(0) } 50%{ transform:translateY(-6px) } }
@keyframes armSwing { 0%,100%{ transform: translate(-50%,-50%) rotate(18deg) } 50%{ transform: translate(-50%,-50%) rotate(-18deg) } }
@keyframes armWave { 0%,100%{ transform: translate(-50%,-50%) rotate(0) } 50%{ transform: translate(-50%,-50%) rotate(28deg) } }
@keyframes headBob { 0%,100%{ transform: translate(-50%,-50%) rotate(0) } 50%{ transform: translate(-50%,-52%) rotate(-3deg) } }
@keyframes danceBeat { 0%,100%{ transform: translate(-50%,-50%) scale(1) } 50%{ transform: translate(-50%,-52%) scale(1.04) } }

.anim-walk{ animation: walkX 3.2s ease-in-out infinite }
.anim-walk img, .anim-walk .layer{ animation: step .38s ease-in-out infinite }
.anim-wave img, .anim-wave .layer{ animation: headBob 1.8s ease-in-out infinite } .rig.anim-wave .armR{ animation: armWave 1.1s ease-in-out infinite }
.anim-dance img, .anim-dance .layer{ animation: step 0.8s ease-in-out infinite } .rig.anim-dance .head{ animation: headBob 1s ease-in-out infinite } .rig.anim-dance .body{ animation: danceBeat 1s ease-in-out infinite }

/* Character page */
.char-flex{ display:grid; gap:1rem } @media(min-width:900px){ .char-flex{ grid-template-columns: 360px 1fr } }
.preview{ min-height:340px; display:grid; place-items:center }
.char-grid{ display:grid; grid-template-columns: repeat(3, 1fr); gap:.6rem }
.char-grid .hero{ border:2px solid rgba(255,255,255,.08); border-radius:10px; padding:.5rem; cursor:pointer; background:rgba(255,255,255,.02) }
.char-grid .hero img{ width:100%; height:180px; object-fit:contain }
.equip-grid{ display:grid; grid-template-columns: repeat(2, 1fr); gap:.4rem }

/* Party pick */
.party-pick{ display:grid; grid-template-columns: repeat(2,1fr); gap:.6rem } @media(min-width:680px){ .party-pick{ grid-template-columns: repeat(4,1fr) } }
.party-card{ border:2px solid rgba(255,255,255,.08); border-radius:10px; padding:.5rem; background:rgba(255,255,255,.02); display:grid; gap:.4rem; cursor:pointer }
.party-card.selected{ outline:3px solid var(--accent) }
.party-card img{ width:100%; height:160px; object-fit:contain }

/* Mini-game */
canvas.game{ width:100%; background:#0a0a0a; border:2px solid rgba(255,255,255,.08); border-radius:10px }
